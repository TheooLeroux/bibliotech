window.jest_html_reporters_callback__({"numFailedTestSuites":1,"numFailedTests":7,"numPassedTestSuites":0,"numPassedTests":0,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":7,"startTime":1753348647427,"success":false,"testResults":[{"numFailingTests":7,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1753348648523,"runtime":1049,"slow":false,"start":1753348647474},"testFilePath":"C:\\Users\\theol\\Desktop\\BiiblioTech\\back\\tests\\unit\\authController.unit.test.js","failureMessage":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthController - Unit Tests › register › devrait créer un utilisateur avec des données valides\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32mObjectContaining {\"email\": \"test@example.com\", \"password\": \"hashedPassword\", \"pseudo\": \"TestUser\"}\u001b[39m\n\n    Number of calls: \u001b[31m0\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 49 |\u001b[39m             \u001b[36mawait\u001b[39m authController\u001b[33m.\u001b[39mregister(mockReq\u001b[33m,\u001b[39m mockRes)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 50 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 51 |\u001b[39m             expect(\u001b[33mUser\u001b[39m\u001b[33m.\u001b[39mcreate)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 52 |\u001b[39m                 expect\u001b[33m.\u001b[39mobjectContaining({\u001b[22m\n\u001b[2m     \u001b[90m 53 |\u001b[39m                     pseudo\u001b[33m:\u001b[39m \u001b[32m'TestUser'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 54 |\u001b[39m                     email\u001b[33m:\u001b[39m \u001b[32m'test@example.com'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/unit/authController.unit.test.js\u001b[39m\u001b[0m\u001b[2m:51:33)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthController - Unit Tests › register › devrait rejeter un email déjà utilisé\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    \u001b[32m- Expected\u001b[39m\n    \u001b[31m+ Received\u001b[39m\n\n    \u001b[2m  Object {\u001b[22m\n    \u001b[32m-   \"message\": \"Email already in use.\",\u001b[39m\n    \u001b[31m+   \"message\": \"Les mots de passe ne correspondent pas.\",\u001b[39m\n    \u001b[2m  }\u001b[22m,\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 74 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 75 |\u001b[39m             expect(mockRes\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 76 |\u001b[39m             expect(mockRes\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                  \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 77 |\u001b[39m                 message\u001b[33m:\u001b[39m \u001b[32m'Email already in use.'\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 78 |\u001b[39m             })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 79 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/unit/authController.unit.test.js\u001b[39m\u001b[0m\u001b[2m:76:34)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthController - Unit Tests › login › devrait connecter un utilisateur avec des identifiants valides\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m500\u001b[39m\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 108 |\u001b[39m                 { expiresIn\u001b[33m:\u001b[39m \u001b[32m'7d'\u001b[39m }\u001b[22m\n\u001b[2m     \u001b[90m 109 |\u001b[39m             )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 110 |\u001b[39m             expect(mockRes\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 111 |\u001b[39m             expect(mockRes\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m 112 |\u001b[39m                 message\u001b[33m:\u001b[39m \u001b[32m'Login successful.'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 113 |\u001b[39m                 token\u001b[33m:\u001b[39m \u001b[32m'mock-jwt-token'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/unit/authController.unit.test.js\u001b[39m\u001b[0m\u001b[2m:110:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthController - Unit Tests › login › devrait rejeter des identifiants invalides\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32m401\u001b[39m\n    Received: \u001b[31m400\u001b[39m\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 130 |\u001b[39m             \u001b[36mawait\u001b[39m authController\u001b[33m.\u001b[39mlogin(mockReq\u001b[33m,\u001b[39m mockRes)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 131 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 132 |\u001b[39m             expect(mockRes\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m401\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 133 |\u001b[39m             expect(mockRes\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m 134 |\u001b[39m                 message\u001b[33m:\u001b[39m \u001b[32m'Invalid credentials.'\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 135 |\u001b[39m             })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/unit/authController.unit.test.js\u001b[39m\u001b[0m\u001b[2m:132:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthController - Unit Tests › logout › devrait déconnecter un utilisateur authentifié\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32m{\"expires_at\": Any<Date>, \"token\": \"mock-token\", \"user_id\": 1}\u001b[39m\n\n    Number of calls: \u001b[31m0\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 143 |\u001b[39m             \u001b[36mawait\u001b[39m authController\u001b[33m.\u001b[39mlogout(mockReq\u001b[33m,\u001b[39m mockRes)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 144 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 145 |\u001b[39m             expect(\u001b[33mBlacklistedToken\u001b[39m\u001b[33m.\u001b[39mcreate)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 146 |\u001b[39m                 token\u001b[33m:\u001b[39m \u001b[32m'mock-token'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 147 |\u001b[39m                 user_id\u001b[33m:\u001b[39m \u001b[35m1\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 148 |\u001b[39m                 expires_at\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39many(\u001b[33mDate\u001b[39m)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/unit/authController.unit.test.js\u001b[39m\u001b[0m\u001b[2m:145:45)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthController - Unit Tests › forgotPassword › devrait traiter une demande de reset pour un email valide\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32mObjectContaining {\"reset_token\": Any<String>, \"reset_token_expires\": Any<Date>}\u001b[39m, \u001b[32m{\"where\": {\"id\": 1}}\u001b[39m\n\n    Number of calls: \u001b[31m0\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 165 |\u001b[39m             \u001b[36mawait\u001b[39m authController\u001b[33m.\u001b[39mforgotPassword(mockReq\u001b[33m,\u001b[39m mockRes)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 166 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 167 |\u001b[39m             expect(\u001b[33mUser\u001b[39m\u001b[33m.\u001b[39mupdate)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 168 |\u001b[39m                 expect\u001b[33m.\u001b[39mobjectContaining({\u001b[22m\n\u001b[2m     \u001b[90m 169 |\u001b[39m                     reset_token\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39many(\u001b[33mString\u001b[39m)\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 170 |\u001b[39m                     reset_token_expires\u001b[33m:\u001b[39m expect\u001b[33m.\u001b[39many(\u001b[33mDate\u001b[39m)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/unit/authController.unit.test.js\u001b[39m\u001b[0m\u001b[2m:167:33)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mAuthController - Unit Tests › forgotPassword › devrait répondre même pour un email inexistant (sécurité)\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m404\u001b[39m\n\n    Number of calls: \u001b[31m1\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 185 |\u001b[39m             \u001b[36mawait\u001b[39m authController\u001b[33m.\u001b[39mforgotPassword(mockReq\u001b[33m,\u001b[39m mockRes)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 186 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 187 |\u001b[39m             expect(mockRes\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoHaveBeenCalledWith(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 188 |\u001b[39m             expect(mockRes\u001b[33m.\u001b[39mjson)\u001b[33m.\u001b[39mtoHaveBeenCalledWith({\u001b[22m\n\u001b[2m     \u001b[90m 189 |\u001b[39m                 message\u001b[33m:\u001b[39m \u001b[32m'Un lien de réinitialisation a été envoyé à votre adresse email.'\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 190 |\u001b[39m             })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toHaveBeenCalledWith (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/unit/authController.unit.test.js\u001b[39m\u001b[0m\u001b[2m:187:36)\u001b[22m\u001b[2m\u001b[22m\n","testResults":[{"ancestorTitles":["AuthController - Unit Tests","register"],"duration":7,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mObjectContaining {\"email\": \"test@example.com\", \"password\": \"hashedPassword\", \"pseudo\": \"TestUser\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\theol\\Desktop\\BiiblioTech\\back\\tests\\unit\\authController.unit.test.js:51:33)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"AuthController - Unit Tests register devrait créer un utilisateur avec des données valides","status":"failed","title":"devrait créer un utilisateur avec des données valides"},{"ancestorTitles":["AuthController - Unit Tests","register"],"duration":4,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\n\u001b[32m- Expected\u001b[39m\n\u001b[31m+ Received\u001b[39m\n\n\u001b[2m  Object {\u001b[22m\n\u001b[32m-   \"message\": \"Email already in use.\",\u001b[39m\n\u001b[31m+   \"message\": \"Les mots de passe ne correspondent pas.\",\u001b[39m\n\u001b[2m  }\u001b[22m,\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\theol\\Desktop\\BiiblioTech\\back\\tests\\unit\\authController.unit.test.js:76:34)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"AuthController - Unit Tests register devrait rejeter un email déjà utilisé","status":"failed","title":"devrait rejeter un email déjà utilisé"},{"ancestorTitles":["AuthController - Unit Tests","login"],"duration":3,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\theol\\Desktop\\BiiblioTech\\back\\tests\\unit\\authController.unit.test.js:110:36)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"AuthController - Unit Tests login devrait connecter un utilisateur avec des identifiants valides","status":"failed","title":"devrait connecter un utilisateur avec des identifiants valides"},{"ancestorTitles":["AuthController - Unit Tests","login"],"duration":2,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m401\u001b[39m\nReceived: \u001b[31m400\u001b[39m\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\theol\\Desktop\\BiiblioTech\\back\\tests\\unit\\authController.unit.test.js:132:36)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"AuthController - Unit Tests login devrait rejeter des identifiants invalides","status":"failed","title":"devrait rejeter des identifiants invalides"},{"ancestorTitles":["AuthController - Unit Tests","logout"],"duration":2,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m{\"expires_at\": Any<Date>, \"token\": \"mock-token\", \"user_id\": 1}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\theol\\Desktop\\BiiblioTech\\back\\tests\\unit\\authController.unit.test.js:145:45)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"AuthController - Unit Tests logout devrait déconnecter un utilisateur authentifié","status":"failed","title":"devrait déconnecter un utilisateur authentifié"},{"ancestorTitles":["AuthController - Unit Tests","forgotPassword"],"duration":2,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mObjectContaining {\"reset_token\": Any<String>, \"reset_token_expires\": Any<Date>}\u001b[39m, \u001b[32m{\"where\": {\"id\": 1}}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\theol\\Desktop\\BiiblioTech\\back\\tests\\unit\\authController.unit.test.js:167:33)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"AuthController - Unit Tests forgotPassword devrait traiter une demande de reset pour un email valide","status":"failed","title":"devrait traiter une demande de reset pour un email valide"},{"ancestorTitles":["AuthController - Unit Tests","forgotPassword"],"duration":1,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (C:\\Users\\theol\\Desktop\\BiiblioTech\\back\\tests\\unit\\authController.unit.test.js:187:36)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"AuthController - Unit Tests forgotPassword devrait répondre même pour un email inexistant (sécurité)","status":"failed","title":"devrait répondre même pour un email inexistant (sécurité)"}]}],"config":{"bail":0,"changedFilesWithAncestor":false,"ci":false,"collectCoverage":false,"collectCoverageFrom":["controllers/**/*.js","middlewares/**/*.js","models/**/*.js","routes/**/*.js","!**/*.test.js","!**/node_modules/**"],"coverageDirectory":"C:\\Users\\theol\\Desktop\\BiiblioTech\\back\\coverage","coverageProvider":"babel","coverageReporters":["json","text","lcov","clover"],"detectLeaks":false,"detectOpenHandles":true,"errorOnDeprecated":false,"expand":false,"findRelatedTests":false,"forceExit":true,"json":false,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":15,"noStackTrace":false,"nonFlagArgs":["tests/unit/authController.unit.test.js"],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"openHandlesTimeout":1000,"passWithNoTests":false,"projects":[],"reporters":[["default",{}],["C:\\Users\\theol\\Desktop\\BiiblioTech\\back\\node_modules\\jest-html-reporters\\index.js",{"publicPath":"./coverage","filename":"test-report.html","expand":true}]],"rootDir":"C:\\Users\\theol\\Desktop\\BiiblioTech\\back","runTestsByPath":false,"seed":340791741,"skipFilter":false,"snapshotFormat":{"escapeString":false,"printBasicPrototype":false},"testFailureExitCode":1,"testPathPattern":"tests\\\\unit\\\\authController.unit.test.js","testSequencer":"C:\\Users\\theol\\Desktop\\BiiblioTech\\back\\node_modules\\@jest\\test-sequencer\\build\\index.js","testTimeout":10000,"updateSnapshot":"new","useStderr":false,"verbose":true,"watch":false,"watchAll":false,"watchman":true,"workerThreads":false},"endTime":1753348648532,"_reporterOptions":{"publicPath":"./coverage","filename":"test-report.html","expand":true,"pageTitle":"","hideIcon":false,"testCommand":"","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":"","darkTheme":false,"includeConsoleLog":false,"stripSkippedTest":false},"logInfoMapping":{},"attachInfos":{}})