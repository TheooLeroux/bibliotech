{"numFailedTestSuites":1,"numFailedTests":1,"numPassedTestSuites":2,"numPassedTests":20,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":1,"numTotalTestSuites":3,"numTotalTests":22,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1750600421540,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Database connectivity & schema"],"duration":28,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Database connectivity & schema doit se connecter à MariaDB et trouver la table users","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1750600422472,"status":"passed","title":"doit se connecter à MariaDB et trouver la table users"},{"ancestorTitles":["Database connectivity & schema"],"duration":27,"failing":false,"failureDetails":[{"matcherResult":{"actual":["ebooks"],"expected":{"sample":["users"],"inverse":false},"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\nExpected: \u001b[32mArrayContaining [\"users\"]\u001b[39m\nReceived: \u001b[31m[\"ebooks\"]\u001b[39m","name":"toEqual","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\nExpected: \u001b[32mArrayContaining [\"users\"]\u001b[39m\nReceived: \u001b[31m[\"ebooks\"]\u001b[39m\n    at Object.toEqual (C:\\xampp\\htdocs\\BiblioTech\\back\\tests\\01-db.test.js:42:23)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Database connectivity & schema doit se connecter à MongoDB et trouver la collection users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1750600422501,"status":"failed","title":"doit se connecter à MongoDB et trouver la collection users"}],"endTime":1750600422542,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mDatabase connectivity & schema › doit se connecter à MongoDB et trouver la collection users\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // deep equality\u001b[22m\n\n    Expected: \u001b[32mArrayContaining [\"users\"]\u001b[39m\n    Received: \u001b[31m[\"ebooks\"]\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 40 |\u001b[39m             \u001b[33m.\u001b[39mmap(c \u001b[33m=>\u001b[39m c\u001b[33m.\u001b[39mname\u001b[33m.\u001b[39mtoLowerCase())\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 41 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 42 |\u001b[39m         expect(colls)\u001b[33m.\u001b[39mtoEqual(\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                       \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 43 |\u001b[39m             expect\u001b[33m.\u001b[39marrayContaining([\u001b[32m'users'\u001b[39m])\u001b[22m\n\u001b[2m     \u001b[90m 44 |\u001b[39m         )\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 45 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toEqual (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/01-db.test.js\u001b[39m\u001b[0m\u001b[2m:42:23)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\xampp\\htdocs\\BiblioTech\\back\\tests\\01-db.test.js","startTime":1750600421595,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["User Endpoints"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Endpoints devrait laisser l'admin lister tous les utilisateurs","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1750600423261,"status":"passed","title":"devrait laisser l'admin lister tous les utilisateurs"},{"ancestorTitles":["User Endpoints"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Endpoints devrait refuser la liste des users à un non-admin","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1750600423269,"status":"passed","title":"devrait refuser la liste des users à un non-admin"},{"ancestorTitles":["User Endpoints"],"duration":3,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Endpoints devrait exiger une authentification pour /api/users","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1750600423278,"status":"passed","title":"devrait exiger une authentification pour /api/users"},{"ancestorTitles":["User Endpoints"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Endpoints devrait permettre à un user de voir son propre profil","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1750600423282,"status":"passed","title":"devrait permettre à un user de voir son propre profil"},{"ancestorTitles":["User Endpoints"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Endpoints ne devrait pas permettre à un user de voir le profil d'un autre","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1750600423288,"status":"passed","title":"ne devrait pas permettre à un user de voir le profil d'un autre"},{"ancestorTitles":["User Endpoints"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Endpoints devrait laisser l'admin consulter n'importe quel profil","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1750600423292,"status":"passed","title":"devrait laisser l'admin consulter n'importe quel profil"},{"ancestorTitles":["User Endpoints"],"duration":9,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Endpoints devrait permettre à un user de mettre à jour son propre profil","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1750600423299,"status":"passed","title":"devrait permettre à un user de mettre à jour son propre profil"},{"ancestorTitles":["User Endpoints"],"duration":6,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Endpoints ne devrait pas permettre à un user de modifier le profil d'un autre","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1750600423308,"status":"passed","title":"ne devrait pas permettre à un user de modifier le profil d'un autre"},{"ancestorTitles":["User Endpoints"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Endpoints devrait laisser l'admin modifier n'importe quel user","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1750600423314,"status":"passed","title":"devrait laisser l'admin modifier n'importe quel user"},{"ancestorTitles":["User Endpoints"],"duration":73,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Endpoints devrait laisser l'admin supprimer un utilisateur","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1750600423321,"status":"passed","title":"devrait laisser l'admin supprimer un utilisateur"},{"ancestorTitles":["User Endpoints"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"User Endpoints ne devrait pas laisser un non-admin supprimer un utilisateur","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1750600423394,"status":"passed","title":"ne devrait pas laisser un non-admin supprimer un utilisateur"}],"endTime":1750600423400,"message":"","name":"C:\\xampp\\htdocs\\BiblioTech\\back\\tests\\03-user.test.js","startTime":1750600422551,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Auth Endpoints"],"duration":107,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Endpoints devrait enregistrer un nouvel utilisateur","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"startAt":1750600423715,"status":"passed","title":"devrait enregistrer un nouvel utilisateur"},{"ancestorTitles":["Auth Endpoints"],"duration":7,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Endpoints ne devrait pas enregistrer un utilisateur si l’email existe déjà","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1750600423822,"status":"passed","title":"ne devrait pas enregistrer un utilisateur si l’email existe déjà"},{"ancestorTitles":["Auth Endpoints"],"duration":70,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Endpoints devrait connecter un utilisateur existant","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"startAt":1750600423829,"status":"passed","title":"devrait connecter un utilisateur existant"},{"ancestorTitles":["Auth Endpoints"],"duration":70,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Endpoints ne devrait pas connecter avec un mauvais mot de passe","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1750600423899,"status":"passed","title":"ne devrait pas connecter avec un mauvais mot de passe"},{"ancestorTitles":["Auth Endpoints"],"duration":10,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Endpoints doit renvoyer 400 si email ou mot de passe absent","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1750600423970,"status":"passed","title":"doit renvoyer 400 si email ou mot de passe absent"},{"ancestorTitles":["Auth Endpoints"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Endpoints devrait générer un lien de réinitialisation (forgot-password)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"startAt":1750600423980,"status":"passed","title":"devrait générer un lien de réinitialisation (forgot-password)"},{"ancestorTitles":["Auth Endpoints"],"duration":4,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Endpoints devrait renvoyer 404 si l'email n'existe pas (forgot-password)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"startAt":1750600423985,"status":"passed","title":"devrait renvoyer 404 si l'email n'existe pas (forgot-password)"},{"ancestorTitles":["Auth Endpoints"],"duration":5,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Endpoints ne devrait pas réinitialiser le mot de passe sans token valide","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"startAt":1750600423990,"status":"passed","title":"ne devrait pas réinitialiser le mot de passe sans token valide"},{"ancestorTitles":["Auth Endpoints"],"duration":null,"failing":false,"failureDetails":[],"failureMessages":[],"fullName":"Auth Endpoints devrait réinitialiser le mot de passe avec un token valide","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"startAt":1750600423996,"status":"todo","title":"devrait réinitialiser le mot de passe avec un token valide"}],"endTime":1750600423998,"message":"","name":"C:\\xampp\\htdocs\\BiblioTech\\back\\tests\\02-auth.test.js","startTime":1750600423405,"status":"passed","summary":""}],"wasInterrupted":false}
